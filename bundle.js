!function(){return function t(e,o,n){function r(l,s){if(!o[l]){if(!e[l]){var c="function"==typeof require&&require;if(!s&&c)return c(l,!0);if(i)return i(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var u=o[l]={exports:{}};e[l][0].call(u.exports,function(t){return r(e[l][1][t]||t)},u,u.exports,t,e,o,n)}return o[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)r(n[l]);return r}}()({1:[function(t,e,o){"use strict";document.querySelectorAll(".gallery").forEach(function(t){var e,o=t.querySelector(".gallery__images"),n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}(t.querySelectorAll(".gallery__image"))),r=t.querySelector(".gallery__arrow--left"),i=t.querySelector(".gallery__arrow--right"),l=function(){e=parseInt(window.getComputedStyle(o)["padding-left"])};l(),window.addEventListener("resize",l);var s=function(){return function(t,e){for(var o=t.length-1;o>=0;o--)if(e(t[o],o,t))return o;return-1}(n,function(t){return t.getBoundingClientRect().left<e-10})},c=function(){return n.findIndex(function(t){return t.getBoundingClientRect().left>e+10})},a=function(t){-1!==t&&o.scrollTo({left:n[t].offsetLeft-e,behavior:"smooth"})};r.addEventListener("click",function(){return a(s())}),i.addEventListener("click",function(){return a(c())});o.addEventListener("scroll",function(){r.classList.toggle("gallery__arrow--disabled",-1===s()),i.classList.toggle("gallery__arrow--disabled",-1===c())}),n.forEach(function(t,e){t.addEventListener("click",function(){return a(e)})})})},{}],2:[function(t,e,o){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}var r,i=document.querySelector(".header"),l=null,s=[].concat(n(document.querySelectorAll("[data-header-classes]"))).map(function(t){return{classes:t.dataset.headerClasses.split(" "),el:t}}).reverse();r=s.length?function(){var t,e,o=s.find(function(t){return t.el.getBoundingClientRect().top<=0})||s[s.length-1];o!==l&&(null!==l&&(t=i.classList).remove.apply(t,n(l.classes)),(e=i.classList).add.apply(e,n(o.classes)),l=o)}:function(){return i.classList.toggle("header--compact",window.pageYOffset>0)},window.addEventListener("scroll",r),window.addEventListener("resize",r),r()},{}],3:[function(t,e,o){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}var r=t("./utils/sticky");document.querySelectorAll(".intro").forEach(function(t){var e,o,i,l,s=document.querySelector(".header"),c=t.querySelector(".intro__expanded"),a=t.querySelector(".intro__end"),u=document.querySelectorAll(".projects__image"),f=document.querySelectorAll(".projects__caption-container"),d=document.querySelectorAll(".projects__caption"),p=!1,h=function(t,e){return function(o){return o.style[t]=e}},m=function(){var s=e+.6*l,c=p?i:o,a=window.innerHeight-s;[].concat(n(u),n(f)).forEach(h("height",a+"px")),r&&(t.style.top=-c+s+"px",[].concat(n(u),n(d)).forEach(h("top",s+"px")))},g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.classList.add("intro--expanded"),t.style.height=i+"px",p=!0,m(),e&&window.scrollTo({top:0,left:0,behavior:"smooth"})},y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.classList.remove("intro--expanded"),t.style.height=o+"px",p=!1,m(),e&&window.scrollTo({top:0,left:0,behavior:"smooth"})};t.addEventListener("click",function(){return p?y():g()});var v=function(){t.style.height="",e=s.offsetHeight,l=.95*a.offsetHeight,c.style.display="none",o=t.offsetHeight,c.style.display="",i=t.offsetHeight,p?g(!1):y(!1)};window.addEventListener("resize",v),v()})},{"./utils/sticky":6}],4:[function(t,e,o){"use strict";t("smoothscroll-polyfill").polyfill();var n=t("fontfaceobserver");Promise.all([new n("Patron").load(),new n("Patron",{weight:"bold"}).load()]).then(function(){return window.requestAnimationFrame(function(){t("object-fit-images")(),t("./menu"),t("./intro"),t("./header"),t("./video"),t("./gallery"),document.documentElement.classList.remove("hidden")})})},{"./gallery":1,"./header":2,"./intro":3,"./menu":5,"./video":7,fontfaceobserver:8,"object-fit-images":9,"smoothscroll-polyfill":10}],5:[function(t,e,o){"use strict";var n=document.querySelector(".header"),r=document.querySelector(".header__toggle");r.addEventListener("click",function(){n.classList.toggle("header--menu-open"),r.classList.toggle("header__toggle--close")})},{}],6:[function(t,e,o){"use strict";e.exports=["sticky","-webkit-sticky","-moz-sticky","-ms-sticky"].find(function(t){var e=document.createElement("div");try{e.style.position=t}catch(t){}return""!=e.style.position})},{}],7:[function(t,e,o){"use strict";document.querySelectorAll("video").forEach(function(t){var e,o,n=(e=function(){var e=t.getBoundingClientRect(),o=e.top,r=e.bottom;o<window.innerHeight&&r>0&&(window.removeEventListener("scroll",n),t.classList.contains("must-autoplay")&&t.play().catch(function(){return t.parentNode.removeChild(t)}))},o=200,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];clearTimeout(void 0),setTimeout.apply(void 0,[e,o].concat(n))});window.addEventListener("scroll",n),n()})},{}],8:[function(t,e,o){!function(){function t(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function o(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function r(t){var e=t.a.offsetWidth,o=e+100;return t.f.style.width=o+"px",t.c.scrollLeft=o,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function i(e,o){function n(){var t=i;r(t)&&t.a.parentNode&&o(t.g)}var i=e;t(e.b,n),t(e.c,n),r(e)}function l(t,e){var o=e||{};this.family=t,this.style=o.style||"normal",this.weight=o.weight||"normal",this.stretch=o.stretch||"normal"}var s=null,c=null,a=null,u=null;function f(){return null===u&&(u=!!document.fonts),u}function d(t,e){return[t.style,t.weight,function(){if(null===a){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}a=""!==t.style.font}return a}()?t.stretch:"","100px",e].join(" ")}l.prototype.load=function(t,e){var r=this,l=t||"BESbswy",a=0,u=e||3e3,p=(new Date).getTime();return new Promise(function(t,e){if(f()&&!function(){if(null===c)if(f()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!t&&603>parseInt(t[1],10)}else c=!1;return c}()){var h=new Promise(function(t,e){!function o(){(new Date).getTime()-p>=u?e():document.fonts.load(d(r,'"'+r.family+'"'),l).then(function(e){1<=e.length?t():setTimeout(o,25)},function(){e()})}()}),m=new Promise(function(t,e){a=setTimeout(e,u)});Promise.race([m,h]).then(function(){clearTimeout(a),t(r)},function(){e(r)})}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}(function(){function c(){var e;(e=-1!=g&&-1!=y||-1!=g&&-1!=v||-1!=y&&-1!=v)&&((e=g!=y&&g!=v&&y!=v)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(g==w&&y==w&&v==w||g==b&&y==b&&v==b||g==E&&y==E&&v==E)),e=!e),e&&(x.parentNode&&x.parentNode.removeChild(x),clearTimeout(a),t(r))}var f=new o(l),h=new o(l),m=new o(l),g=-1,y=-1,v=-1,w=-1,b=-1,E=-1,x=document.createElement("div");x.dir="ltr",n(f,d(r,"sans-serif")),n(h,d(r,"serif")),n(m,d(r,"monospace")),x.appendChild(f.a),x.appendChild(h.a),x.appendChild(m.a),document.body.appendChild(x),w=f.a.offsetWidth,b=h.a.offsetWidth,E=m.a.offsetWidth,function t(){if((new Date).getTime()-p>=u)x.parentNode&&x.parentNode.removeChild(x),e(r);else{var o=document.hidden;!0!==o&&void 0!==o||(g=f.a.offsetWidth,y=h.a.offsetWidth,v=m.a.offsetWidth,c()),a=setTimeout(t,50)}}(),i(f,function(t){g=t,c()}),n(f,d(r,'"'+r.family+'",sans-serif')),i(h,function(t){y=t,c()}),n(h,d(r,'"'+r.family+'",serif')),i(m,function(t){v=t,c()}),n(m,d(r,'"'+r.family+'",monospace'))})})},"object"==typeof e?e.exports=l:(window.FontFaceObserver=l,window.FontFaceObserver.prototype.load=l.prototype.load)}()},{}],9:[function(t,e,o){"use strict";var n="bfred-it:object-fit-images",r=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,i="undefined"==typeof Image?{style:{"object-position":1}}:new Image,l="object-fit"in i.style,s="object-position"in i.style,c="background-size"in i.style,a="string"==typeof i.currentSrc,u=i.getAttribute,f=i.setAttribute,d=!1;function p(t,e,o){var n="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(e||1)+"' height='"+(o||0)+"'%3E%3C/svg%3E";u.call(t,"src")!==n&&f.call(t,"src",n)}function h(t,e){t.naturalWidth?e(t):setTimeout(h,100,t,e)}function m(t){var e=function(t){for(var e,o=getComputedStyle(t).fontFamily,n={};null!==(e=r.exec(o));)n[e[1]]=e[2];return n}(t),o=t[n];if(e["object-fit"]=e["object-fit"]||"fill",!o.img){if("fill"===e["object-fit"])return;if(!o.skipTest&&l&&!e["object-position"])return}if(!o.img){o.img=new Image(t.width,t.height),o.img.srcset=u.call(t,"data-ofi-srcset")||t.srcset,o.img.src=u.call(t,"data-ofi-src")||t.src,f.call(t,"data-ofi-src",t.src),t.srcset&&f.call(t,"data-ofi-srcset",t.srcset),p(t,t.naturalWidth||t.width,t.naturalHeight||t.height),t.srcset&&(t.srcset="");try{!function(t){var e={get:function(e){return t[n].img[e||"src"]},set:function(e,o){return t[n].img[o||"src"]=e,f.call(t,"data-ofi-"+o,e),m(t),e}};Object.defineProperty(t,"src",e),Object.defineProperty(t,"currentSrc",{get:function(){return e.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return e.get("srcset")},set:function(t){return e.set(t,"srcset")}})}(t)}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}!function(t){if(t.srcset&&!a&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}(o.img),t.style.backgroundImage='url("'+(o.img.currentSrc||o.img.src).replace(/"/g,'\\"')+'")',t.style.backgroundPosition=e["object-position"]||"center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",/scale-down/.test(e["object-fit"])?h(o.img,function(){o.img.naturalWidth>t.width||o.img.naturalHeight>t.height?t.style.backgroundSize="contain":t.style.backgroundSize="auto"}):t.style.backgroundSize=e["object-fit"].replace("none","auto").replace("fill","100% 100%"),h(o.img,function(e){p(t,e.naturalWidth,e.naturalHeight)})}function g(t,e){var o=!d&&!t;if(e=e||{},t=t||"img",s&&!e.skipTest||!c)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var r=0;r<t.length;r++)t[r][n]=t[r][n]||{skipTest:e.skipTest},m(t[r]);o&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&g(t.target,{skipTest:e.skipTest})},!0),d=!0,t="img"),e.watchMQ&&window.addEventListener("resize",g.bind(null,t,{skipTest:e.skipTest}))}g.supportsObjectFit=l,g.supportsObjectPosition=s,function(){function t(t,e){return t[n]&&t[n].img&&("src"===e||"srcset"===e)?t[n].img:t}s||(HTMLImageElement.prototype.getAttribute=function(e){return u.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,o){return f.call(t(this,e),e,String(o))})}(),e.exports=g},{}],10:[function(t,e,o){!function(){"use strict";function t(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)){var o,n=t.HTMLElement||t.Element,r=468,i={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:n.prototype.scroll||c,scrollIntoView:n.prototype.scrollIntoView},l=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(o=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):i.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(a(arguments[0])?i.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==a(arguments[0])){var t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==a(arguments[0])){var o=function(t){var o;do{o=(t=t.parentNode)===e.body}while(!1===o&&!1===d(t));return o=null,t}(this),n=o.getBoundingClientRect(),r=this.getBoundingClientRect();o!==e.body?(h.call(this,o,o.scrollLeft+r.left-n.left,o.scrollTop+r.top-n.top),"fixed"!==t.getComputedStyle(o).position&&t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(t,e){this.scrollLeft=t,this.scrollTop=e}function a(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function f(e,o){var n=t.getComputedStyle(e,null)["overflow"+o];return"auto"===n||"scroll"===n}function d(t){var e=u(t,"Y")&&f(t,"Y"),o=u(t,"X")&&f(t,"X");return e||o}function p(e){var o,n,i,s,c=(l()-e.startTime)/r;s=c=c>1?1:c,o=.5*(1-Math.cos(Math.PI*s)),n=e.startX+(e.x-e.startX)*o,i=e.startY+(e.y-e.startY)*o,e.method.call(e.scrollable,n,i),n===e.x&&i===e.y||t.requestAnimationFrame(p.bind(t,e))}function h(o,n,r){var s,a,u,f,d=l();o===e.body?(s=t,a=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,f=i.scroll):(s=o,a=o.scrollLeft,u=o.scrollTop,f=c),p({scrollable:s,method:f,startTime:d,startX:a,startY:u,x:n,y:r})}}"object"==typeof o&&void 0!==e?e.exports={polyfill:t}:t()}()},{}]},{},[4]);
